<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title></title>
</head>

<body>
<button id="btnCam">cam</button>
<video autoplay></video>
<canvas style="display:none;"></canvas>

<script type="text/javascript">
var video = document.querySelector('video');
var canvas = document.querySelector('canvas');
var ctx = canvas.getContext('2d');
var localMediaStream = null;

document.querySelector("#btnCam").addEventListener("click", function(){
	navigator.webkitGetUserMedia({video: true}, function(localMediaStream) {
		video.src = window.webkitURL.createObjectURL(localMediaStream);
	}, onFailSoHard);
}, false);

function onFailSoHard(err){
	console.log(err)
}

</script>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-35689154-1']);
_gaq.push(['_trackPageview']);
(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body>
</html>